/* USER 생성 (관리자 계정으로 실행) */
--CREATE USER CODESYNC IDENTIFIED BY CODESYNC;
--GRANT CONNECT, RESOURCE TO CODESYNC;

DROP TABLE MEMBER CASCADE CONSTRAINTS;
DROP TABLE POSTING CASCADE CONSTRAINTS;
DROP TABLE REPLY CASCADE CONSTRAINTS;
DROP TABLE COMMUNITY_POST_JOB_CATEGORY CASCADE CONSTRAINTS;
DROP TABLE COMMUNITY_POST_HASHTAG CASCADE CONSTRAINTS;
DROP TABLE BUSINESS CASCADE CONSTRAINTS;
DROP TABLE BUSINESS_BENEFIT CASCADE CONSTRAINTS;
DROP TABLE WORK_ENVIRONMENT_IMAGE CASCADE CONSTRAINTS;
DROP TABLE JOB_POSTING CASCADE CONSTRAINTS;
DROP TABLE JOB_REQUIREMENTS CASCADE CONSTRAINTS;
DROP TABLE BUSINESS_BOOKMARK CASCADE CONSTRAINTS;
DROP TABLE PERSON_BOOKMARK CASCADE CONSTRAINTS;
DROP TABLE APPLICANTS CASCADE CONSTRAINTS;
DROP TABLE PERSON CASCADE CONSTRAINTS;
DROP TABLE RESUME CASCADE CONSTRAINTS;
DROP TABLE ACDEMIC_ABILITY CASCADE CONSTRAINTS;
DROP TABLE LICENSE CASCADE CONSTRAINTS;
DROP TABLE LANGUAGE CASCADE CONSTRAINTS;
DROP TABLE AWARD CASCADE CONSTRAINTS;
DROP TABLE EXPERIENCE CASCADE CONSTRAINTS;
DROP TABLE EMPLOYMENT_PREFERENCES1 CASCADE CONSTRAINTS;
DROP TABLE EMPLOYMENTPREFERENCE CASCADE CONSTRAINTS;
DROP TABLE MILITARYSERVICE CASCADE CONSTRAINTS;
DROP TABLE SELF_INTRODUCTION CASCADE CONSTRAINTS;
DROP TABLE PORTFOLIO CASCADE CONSTRAINTS;
DROP TABLE SKILL CASCADE CONSTRAINTS;
DROP TABLE CAREER CASCADE CONSTRAINTS;

DROP SEQUENCE SEQ_UNO;
DROP SEQUENCE SEQ_PNO;
DROP SEQUENCE SEQ_BNO;
DROP SEQUENCE SEQ_JNO;
DROP SEQUENCE SEQ_JNO_R;
DROP SEQUENCE RESUME_SEQ;
DROP SEQUENCE BASICINFO_SEQ;
DROP SEQUENCE QUALIFICATION_SEQ;
DROP SEQUENCE ACADEMIC_ABILITY_SEQ;
DROP SEQUENCE EXPERIENCE_SEQ;
DROP SEQUENCE EMPLOYMENT_PREFERENCES_SEQ;
DROP SEQUENCE SKILL_SEQ;
DROP SEQUENCE CAREER_SEQ;
DROP SEQUENCE POSTING_SEQ;
DROP SEQUENCE REPLY_SEQ;

/* Member */
/* MEMBER 테이블 생성 */
CREATE TABLE MEMBER (
    USER_NO NUMBER NOT NULL,
    USER_TYPE CHAR(1) NOT NULL,
    USER_ID VARCHAR(20) NOT NULL,
    USER_PWD VARCHAR(16) NOT NULL,
    EMAIL VARCHAR2(30) NOT NULL,
    EROLL_DATE DATE,
    MODIFY_DATE TIMESTAMP NOT NULL,
    STATUS CHAR(1) DEFAULT 'Y' CHECK (STATUS IN('Y','N')),
    BUSINESS_NO NUMBER NULL,
    PERSON_NO NUMBER NULL
);

COMMENT ON COLUMN MEMBER.USER_NO IS '회원번호';
COMMENT ON COLUMN MEMBER.USER_TYPE IS '회원유형';
COMMENT ON COLUMN MEMBER.USER_ID IS '회원아이디';
COMMENT ON COLUMN MEMBER.USER_PWD IS '회원비밀번호';
COMMENT ON COLUMN MEMBER.EMAIL IS '이메일';
COMMENT ON COLUMN MEMBER.EROLL_DATE IS '회원가입일';
COMMENT ON COLUMN MEMBER.MODIFY_DATE IS '회원정보수정일';
COMMENT ON COLUMN MEMBER.STATUS IS '회원상태(Y/N)';
COMMENT ON COLUMN MEMBER.BUSINESS_NO IS '기업번호';
COMMENT ON COLUMN MEMBER.PERSON_NO IS '개인번호';

/* POSTING 테이블 생성 */
CREATE TABLE POSTING (
    POSTING_NO NUMBER NOT NULL,
    CATEGORY VARCHAR2(100) NOT NULL,
    TITLE VARCHAR2(225) NOT NULL,
    CONTENT CLOB NOT NULL,
    IMAGE BLOB NULL,
    AUTHOR VARCHAR2(100) NOT NULL,
    USER_NO NUMBER NOT NULL,
    CREATED_TIME TIMESTAMP NOT NULL,
    UPDATED_TIME TIMESTAMP NULL,
    VIEW_COUNT NUMBER NOT NULL,
    LIKE_COUNT NUMBER NOT NULL,
    BUSINESS_NO NUMBER NULL,
    STATUS CHAR(1) DEFAULT 'Y' NOT NULL CHECK (STATUS IN ('Y','N')),
    PERSON_NO NUMBER NULL
);

COMMENT ON COLUMN POSTING.POSTING_NO IS '게시글번호';
COMMENT ON COLUMN POSTING.CATEGORY IS '카테고리';
COMMENT ON COLUMN POSTING.TITLE IS '게시글내용';
COMMENT ON COLUMN POSTING.CONTENT IS '내용';
COMMENT ON COLUMN POSTING.IMAGE IS '이미지';
COMMENT ON COLUMN POSTING.AUTHOR IS '작성자';
COMMENT ON COLUMN POSTING.USER_NO IS '회원번호';
COMMENT ON COLUMN POSTING.CREATED_TIME IS '작성시간';
COMMENT ON COLUMN POSTING.UPDATED_TIME IS '수정시간';
COMMENT ON COLUMN POSTING.VIEW_COUNT IS '조회수';
COMMENT ON COLUMN POSTING.LIKE_COUNT IS '공감수';
COMMENT ON COLUMN POSTING.BUSINESS_NO IS '기업번호';
COMMENT ON COLUMN POSTING.STATUS IS '상태 (Y/N)';
COMMENT ON COLUMN POSTING.PERSON_NO IS '개인번호';

/* REPLY 테이블 생성 */
CREATE TABLE REPLY (
    REPLY_NO NUMBER NOT NULL,
    POSTING_NO NUMBER NOT NULL,
    USER_NO NUMBER NOT NULL,
    CONTENT CLOB NOT NULL,
    CREATED_TIME TIMESTAMP DEFAULT SYSDATE,
    LIKE_COUNT NUMBER DEFAULT 0,
    STATUS CHAR(1) DEFAULT 'Y' NOT NULL CHECK (STATUS IN ('Y','N')),
    PRIMARY KEY (REPLY_NO)
);

COMMENT ON COLUMN REPLY.REPLY_NO IS '댓글 번호';
COMMENT ON COLUMN REPLY.POSTING_NO IS '게시글 번호';
COMMENT ON COLUMN REPLY.USER_NO IS '회원 번호';
COMMENT ON COLUMN REPLY.CONTENT IS '댓글 내용';
COMMENT ON COLUMN REPLY.CREATED_TIME IS '작성 시간';
COMMENT ON COLUMN REPLY.LIKE_COUNT IS '좋아요 수';
COMMENT ON COLUMN REPLY.STATUS IS '상태 (Y/N)';

/* COMMUNITY_POST_JOB_CATEGORY 테이블 생성 */
CREATE TABLE COMMUNITY_POST_JOB_CATEGORY (
    POSTING_NO NUMBER NOT NULL,
    JOB_CATEGORY VARCHAR2(100) NOT NULL
);

COMMENT ON COLUMN COMMUNITY_POST_JOB_CATEGORY.POSTING_NO IS '게시글번호';
COMMENT ON COLUMN COMMUNITY_POST_JOB_CATEGORY.JOB_CATEGORY IS '직무카테고리';

/* COMMUNITY_POST_HASHTAG 테이블 생성 */
CREATE TABLE COMMUNITY_POST_HASHTAG (
    POSTING_NO NUMBER NOT NULL,
    HASHTAG VARCHAR2(100) NOT NULL
);

COMMENT ON COLUMN COMMUNITY_POST_HASHTAG.POSTING_NO IS '게시글번호';
COMMENT ON COLUMN COMMUNITY_POST_HASHTAG.HASHTAG IS '해시태그';

/* BUSINESS 테이블 생성 */
CREATE TABLE BUSINESS (
    BUSINESS_NO NUMBER NOT NULL,
    REGISTRATION_NUMBER VARCHAR2(12) NOT NULL,
    OWNER_NAME VARCHAR2(15) NOT NULL,
    COMPANY_NAME VARCHAR2(50) NOT NULL,
    COMPANY_CODE NUMBER NOT NULL,
    COMPANY_TEL VARCHAR2(15) NOT NULL,
    COMPANY_ADDR VARCHAR2(50) NOT NULL,
    COMPANY_FAX VARCHAR2(15) NULL,
    COMPANY_SITE VARCHAR2(50) NULL,
    LOGO VARCHAR2(500) NULL,
    INTRODUCTION CLOB NULL,
    VISION CLOB NULL,
    COMPANY_TYPE VARCHAR(50) NULL,
    EMPLOYEE_COUNT NUMBER NULL,
    INDUSTRY VARCHAR(100) NULL,
    BRAND_NAME VARCHAR(100) NULL
);

COMMENT ON COLUMN BUSINESS.BUSINESS_NO IS '기업번호';
COMMENT ON COLUMN BUSINESS.REGISTRATION_NUMBER IS '사업자등록번호';
COMMENT ON COLUMN BUSINESS.OWNER_NAME IS '대표자명';
COMMENT ON COLUMN BUSINESS.COMPANY_NAME IS '상호명';
COMMENT ON COLUMN BUSINESS.COMPANY_CODE IS '업종';
COMMENT ON COLUMN BUSINESS.COMPANY_TEL IS '사업장 전화번호';
COMMENT ON COLUMN BUSINESS.COMPANY_ADDR IS '사업장주소';
COMMENT ON COLUMN BUSINESS.COMPANY_FAX IS '팩스번호';
COMMENT ON COLUMN BUSINESS.COMPANY_SITE IS '홈페이지주소';
COMMENT ON COLUMN BUSINESS.LOGO IS '로고이미지';
COMMENT ON COLUMN BUSINESS.INTRODUCTION IS '기업소개';
COMMENT ON COLUMN BUSINESS.VISION IS '기업버전';
COMMENT ON COLUMN BUSINESS.COMPANY_TYPE IS '기업형태';
COMMENT ON COLUMN BUSINESS.EMPLOYEE_COUNT IS '직원수';
COMMENT ON COLUMN BUSINESS.INDUSTRY IS '업종';
COMMENT ON COLUMN BUSINESS.BRAND_NAME IS '브랜드명';

/* BUSINESS_BENEFIT 테이블 생성 */
CREATE TABLE BUSINESS_BENEFIT (
    BUSINESS_NO NUMBER NOT NULL,
    BENEFIT VARCHAR2(100) NULL
);

COMMENT ON COLUMN BUSINESS_BENEFIT.BUSINESS_NO IS '기업번호';
COMMENT ON COLUMN BUSINESS_BENEFIT.BENEFIT IS '복리후생 항목';

/* WORK_ENVIRONMENT_IMAGE 테이블 생성 */
CREATE TABLE WORK_ENVIRONMENT_IMAGE (
    WORK_ENVIRONMENT_IMAGE_NO NUMBER NOT NULL,
    BUSINESS_NO NUMBER NOT NULL,
    IMAGE_URL VARCHAR2(500) NULL,
    TITLE VARCHAR2(255) NULL
);

COMMENT ON COLUMN WORK_ENVIRONMENT_IMAGE.WORK_ENVIRONMENT_IMAGE_NO IS '근무 환경이미지고유키';
COMMENT ON COLUMN WORK_ENVIRONMENT_IMAGE.BUSINESS_NO IS '기업번호';
COMMENT ON COLUMN WORK_ENVIRONMENT_IMAGE.IMAGE_URL IS '이미지URL';
COMMENT ON COLUMN WORK_ENVIRONMENT_IMAGE.TITLE IS '이미지제목';

/* BUSINESS_BOOKMARK 테이블 생성 */
CREATE TABLE BUSINESS_BOOKMARK (
    BUSINESS_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    FLOER VARCHAR(15) NULL,
    ADD_DATE TIMESTAMP NULL
);

COMMENT ON COLUMN BUSINESS_BOOKMARK.BUSINESS_NO IS '기업번호';
COMMENT ON COLUMN BUSINESS_BOOKMARK.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN BUSINESS_BOOKMARK.FLOER IS '분류폴더';
COMMENT ON COLUMN BUSINESS_BOOKMARK.ADD_DATE IS '추가일자';

/* JOB_POSTING 테이블 생성 */
CREATE TABLE JOB_POSTING (
    RECRUITMENT_NO NUMBER NOT NULL,
    BUSINESS_NO NUMBER NOT NULL,
    TITLE VARCHAR2(50) NOT NULL,
    REPRESENTATIVE_NAME VARCHAR2(15) NOT NULL,
    REPRESENTATIVE_DEPT VARCHAR2(30) NOT NULL,
    REPRESENTATIVE_EMAIL VARCHAR2(50) NOT NULL,
    METHOD CHAR(1) NOT NULL,
    START_DATE TIMESTAMP NOT NULL,
    DEADLINE TIMESTAMP NOT NULL,
    POSTING_DATE DATE NOT NULL,
    CONTENT_IMG VARCHAR2(100) NULL,
    CONTENT_TEXT VARCHAR2(3000) NULL
);

COMMENT ON COLUMN JOB_POSTING.RECRUITMENT_NO IS '공고번호';
COMMENT ON COLUMN JOB_POSTING.BUSINESS_NO IS '기업번호';
COMMENT ON COLUMN JOB_POSTING.TITLE IS '공고제목';
COMMENT ON COLUMN JOB_POSTING.REPRESENTATIVE_NAME IS '담당자이름';
COMMENT ON COLUMN JOB_POSTING.REPRESENTATIVE_DEPT IS '담당자부서';
COMMENT ON COLUMN JOB_POSTING.REPRESENTATIVE_EMAIL IS '담당자이메일';
COMMENT ON COLUMN JOB_POSTING.METHOD IS '모집방식';
COMMENT ON COLUMN JOB_POSTING.START_DATE IS '접수시작일';
COMMENT ON COLUMN JOB_POSTING.DEADLINE IS '접수마감일';
COMMENT ON COLUMN JOB_POSTING.POSTING_DATE IS '공고게시일';
COMMENT ON COLUMN JOB_POSTING.CONTENT_IMG IS '공고소개이미지';
COMMENT ON COLUMN JOB_POSTING.CONTENT_TEXT IS '공고소개글';

/* JOB_REQUIREMENTS 테이블 생성 */
CREATE TABLE JOB_REQUIREMENTS (
    POSITION_NO NUMBER NOT NULL,
    RECRUITMENT_NO NUMBER NOT NULL,
    POSITION_NAME VARCHAR2(50) NOT NULL,
    POSITION_RANK VARCHAR2(30) NOT NULL,
    EMPLOYMENT_FORM CHAR(1) NOT NULL,
    RECRUITED_PEOPLE NUMBER NOT NULL,
    WORKING_DAY NUMBER NOT NULL,
    WORKING_TIME_START TIMESTAMP NULL,
    WORKING_TIME_END TIMESTAMP NULL,
    WORKING_PLACE VARCHAR2(50) NOT NULL,
    MIN_SALARY NUMBER NOT NULL,
    MAX_SALARY NUMBER NOT NULL,
    ACADEMIC_ABILITY CHAR(2) NOT NULL,
    MIN_CAREER NUMBER NOT NULL,
    MAX_CAREER NUMBER NOT NULL
);

COMMENT ON COLUMN JOB_REQUIREMENTS.POSITION_NO IS '포시션번호';
COMMENT ON COLUMN JOB_REQUIREMENTS.RECRUITMENT_NO IS '공고번호';
COMMENT ON COLUMN JOB_REQUIREMENTS.POSITION_NAME IS '모집분야명';
COMMENT ON COLUMN JOB_REQUIREMENTS.POSITION_RANK IS '모집직급';
COMMENT ON COLUMN JOB_REQUIREMENTS.EMPLOYMENT_FORM IS '고용형태';
COMMENT ON COLUMN JOB_REQUIREMENTS.RECRUITED_PEOPLE IS '모집 인원';
COMMENT ON COLUMN JOB_REQUIREMENTS.WORKING_DAY IS '근무요일';
COMMENT ON COLUMN JOB_REQUIREMENTS.WORKING_TIME_START IS '근무시간(시작)';
COMMENT ON COLUMN JOB_REQUIREMENTS.WORKING_TIME_END IS '근무시간(종료)';
COMMENT ON COLUMN JOB_REQUIREMENTS.WORKING_PLACE IS '근무지 주소';
COMMENT ON COLUMN JOB_REQUIREMENTS.MIN_SALARY IS '예상연봉(최소)';
COMMENT ON COLUMN JOB_REQUIREMENTS.MAX_SALARY IS '예상연봉(최대)';
COMMENT ON COLUMN JOB_REQUIREMENTS.ACADEMIC_ABILITY IS '최소요구학력';
COMMENT ON COLUMN JOB_REQUIREMENTS.MIN_CAREER IS '최소경력';
COMMENT ON COLUMN JOB_REQUIREMENTS.MAX_CAREER IS '최대경력';

/* APPLICANTS 테이블 생성 */
CREATE TABLE APPLICANTS (
    APPLICANTS_NO NUMBER NOT NULL,
    RECRUITMENT_NO NUMBER NOT NULL,
    POSITION_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    APPLICANTS_DATE DATE NOT NULL,
    RESUME_STATUS CHAR(1) NOT NULL,
    SCORE NUMBER NULL,
    MEMO VARCHAR2(200) NULL,
    APPLICATION_STATUS VARCHAR2(15) NOT NULL,
    PASS_STATUS CHAR(1) NOT NULL
);

COMMENT ON COLUMN APPLICANTS.APPLICANTS_NO IS '지원자번호';
COMMENT ON COLUMN APPLICANTS.RECRUITMENT_NO IS '공고번호';
COMMENT ON COLUMN APPLICANTS.POSITION_NO IS '포지션번호';
COMMENT ON COLUMN APPLICANTS.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN APPLICANTS.APPLICANTS_DATE IS '지원일';
COMMENT ON COLUMN APPLICANTS.RESUME_STATUS IS '이력서열람여부';
COMMENT ON COLUMN APPLICANTS.SCORE IS '평가';
COMMENT ON COLUMN APPLICANTS.MEMO IS '메모';
COMMENT ON COLUMN APPLICANTS.APPLICATION_STATUS IS '전형단계';
COMMENT ON COLUMN APPLICANTS.PASS_STATUS IS '합격여부';

/* PERSON_BOOKMARK 테이블 생성 */
CREATE TABLE PERSON_BOOKMARK (
    PERSON_NO NUMBER NOT NULL,
    RECRUITMENT_NO NUMBER NOT NULL,
    FOLDER VARCHAR2(15) NULL,
    ADD_DATE TIMESTAMP NOT NULL
);

COMMENT ON COLUMN PERSON_BOOKMARK.PERSON_NO IS '개인번호';
COMMENT ON COLUMN PERSON_BOOKMARK.RECRUITMENT_NO IS '공고번호';
COMMENT ON COLUMN PERSON_BOOKMARK.FOLDER IS '분류폴더';
COMMENT ON COLUMN PERSON_BOOKMARK.ADD_DATE IS '추가일자';

/* PERSON 테이블 생성 */
CREATE TABLE PERSON (
    PERSON_NO NUMBER NOT NULL,
    NAME VARCHAR2(15) NOT NULL,
    BIRTHDAY DATE NULL,
    GENDER VARCHAR2(3) NULL,
    PHONE VARCHAR2(13) NULL,
    ADDRESS VARCHAR2(100) NULL
);

COMMENT ON COLUMN PERSON.PERSON_NO IS '개인번호';
COMMENT ON COLUMN PERSON.NAME IS '회원이름';
COMMENT ON COLUMN PERSON.BIRTHDAY IS '생년월일';
COMMENT ON COLUMN PERSON.GENDER IS '성별';
COMMENT ON COLUMN PERSON.PHONE IS '연락처';
COMMENT ON COLUMN PERSON.ADDRESS IS '주소';

/* RESUME 테이블 생성 */
CREATE TABLE RESUME (
    RESUME_NO NUMBER NOT NULL,
    PERSON_NO NUMBER NOT NULL,
    TITLE VARCHAR2(50) NOT NULL,
    CREATE_DATE DATE NOT NULL,
    MODIFIED_DATE DATE NOT NULL,
    DELETED CHAR(1) NOT NULL CHECK (DELETED IN ('Y', 'N'))
);

COMMENT ON COLUMN RESUME.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN RESUME.PERSON_NO IS '개인번호';
COMMENT ON COLUMN RESUME.TITLE IS '이력서제목';
COMMENT ON COLUMN RESUME.CREATE_DATE IS '작성일자';
COMMENT ON COLUMN RESUME.MODIFIED_DATE IS '수정일자';
COMMENT ON COLUMN RESUME.DELETED IS '삭제여부';

/* ACDEMIC_ABILITY 테이블 생성 */
CREATE TABLE ACDEMIC_ABILITY (
    ACDEMIC_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    ACDEMIC_NAME VARCHAR2(30) NOT NULL,
    ACDEMIC_TYPE CHAR(2) NOT NULL,
    DEGREE CHAR(1) NULL,
    ENTER_DATE DATE NULL,
    GRADUATION_DATE DATE NULL,
    STATUS CHAR(1) NOT NULL,
    LOCATION VARCHAR2(10) NOT NULL
);

COMMENT ON COLUMN ACDEMIC_ABILITY.ACDEMIC_NO IS '학력번호';
COMMENT ON COLUMN ACDEMIC_ABILITY.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN ACDEMIC_ABILITY.ACDEMIC_NAME IS '교육기관명';
COMMENT ON COLUMN ACDEMIC_ABILITY.ACDEMIC_TYPE IS '교육기관유형';
COMMENT ON COLUMN ACDEMIC_ABILITY.DEGREE IS '학위여부';
COMMENT ON COLUMN ACDEMIC_ABILITY.ENTER_DATE IS '입학일자';
COMMENT ON COLUMN ACDEMIC_ABILITY.GRADUATION_DATE IS '졸업(수료)일자';
COMMENT ON COLUMN ACDEMIC_ABILITY.STATUS IS '상태';
COMMENT ON COLUMN ACDEMIC_ABILITY.LOCATION IS '지역';

/* LICENSE 테이블 생성 */
CREATE TABLE LICENSE (
    LICENSE_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    LICENSE_NAME VARCHAR2(30) NULL,
    ISSUED_BY VARCHAR2(30) NULL,
    ISSUE_DATE DATE NULL,
    PASSING_CATEGORY VARCHAR2(30) NULL
);

COMMENT ON COLUMN LICENSE.LICENSE_NO IS '자격증번호';
COMMENT ON COLUMN LICENSE.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN LICENSE.LICENSE_NAME IS '자격증이름';
COMMENT ON COLUMN LICENSE.ISSUED_BY IS '발급기관';
COMMENT ON COLUMN LICENSE.ISSUE_DATE IS '발급일자';
COMMENT ON COLUMN LICENSE.PASSING_CATEGORY IS '합격구분';

/* LANGUAGE 테이블 생성 */
CREATE TABLE LANGUAGE (
    LANGUAGE_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    LANGUAGE_NAME VARCHAR2(30) NULL,
    PROFICIENCY_LEVEL VARCHAR2(30) NULL,
    ACQUISITION_DATE DATE NULL,
    KIND_OF_LANGUAGE VARCHAR2(10) NOT NULL
);

COMMENT ON COLUMN LANGUAGE.LANGUAGE_NO IS '어학번호';
COMMENT ON COLUMN LANGUAGE.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN LANGUAGE.LANGUAGE_NAME IS '언어이름';
COMMENT ON COLUMN LANGUAGE.PROFICIENCY_LEVEL IS '급수';
COMMENT ON COLUMN LANGUAGE.ACQUISITION_DATE IS '취득일';
COMMENT ON COLUMN LANGUAGE.KIND_OF_LANGUAGE IS '언어종류';

/* AWARD 테이블 생성 */
CREATE TABLE AWARD (
    AWARD_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    AWARD_NAME VARCHAR2(50) NULL,
    ORGANIZER VARCHAR2(50) NULL,
    AWARD_DATE DATE NULL
);

COMMENT ON COLUMN AWARD.AWARD_NO IS '수상번호';
COMMENT ON COLUMN AWARD.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN AWARD.AWARD_NAME IS '수상/공모전명칭';
COMMENT ON COLUMN AWARD.ORGANIZER IS '주최기관';
COMMENT ON COLUMN AWARD.AWARD_DATE IS '수상일자';

/* EXPERIENCE 테이블 생성 */
CREATE TABLE EXPERIENCE (
    EXPERIENCE_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    ACTICITY_TYPE VARCHAR2(50) NULL,
    ORGANIZATION_NAME VARCHAR2(100) NULL,
    START_DATE DATE NULL,
    END_DATE DATE NULL,
    DESCRIPTION VARCHAR2(300) NULL
);

COMMENT ON COLUMN EXPERIENCE.EXPERIENCE_NO IS '경험/활동/교육번호';
COMMENT ON COLUMN EXPERIENCE.RESUME_NO IS '이력서고유키';
COMMENT ON COLUMN EXPERIENCE.ACTICITY_TYPE IS '활동구분';
COMMENT ON COLUMN EXPERIENCE.ORGANIZATION_NAME IS '기관/장소명';
COMMENT ON COLUMN EXPERIENCE.START_DATE IS '시작연월';
COMMENT ON COLUMN EXPERIENCE.END_DATE IS '종료연월';
COMMENT ON COLUMN EXPERIENCE.DESCRIPTION IS '활동설명';

/* EMPLOYMENT_PREFERENCES1 테이블 생성 */
CREATE TABLE EMPLOYMENT_PREFERENCES1 (
    EMPLOYMENT_PREFERENCES_NO1 NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    MARRIAGE_REASON VARCHAR2(200) NULL,
    IS_MILITARY_TARGET VARCHAR2(10) NOT NULL
);

COMMENT ON COLUMN EMPLOYMENT_PREFERENCES1.EMPLOYMENT_PREFERENCES_NO1 IS '취업우대사항 고유키1';
COMMENT ON COLUMN EMPLOYMENT_PREFERENCES1.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN EMPLOYMENT_PREFERENCES1.MARRIAGE_REASON IS '보훈사유';
COMMENT ON COLUMN EMPLOYMENT_PREFERENCES1.IS_MILITARY_TARGET IS '병역대상여부';

/* EMPLOYMENTPREFERENCE 테이블 생성 */
CREATE TABLE EMPLOYMENTPREFERENCE (
    EMPLOYMENT_PREFERENCES_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    MARRIAGE_REASON VARCHAR2(255) NULL,
    IS_MILITARY_TARGET VARCHAR2(50) NOT NULL
);

COMMENT ON COLUMN EMPLOYMENTPREFERENCE.EMPLOYMENT_PREFERENCES_NO IS '취업우대사항 고유키';
COMMENT ON COLUMN EMPLOYMENTPREFERENCE.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN EMPLOYMENTPREFERENCE.MARRIAGE_REASON IS '보훈사유';
COMMENT ON COLUMN EMPLOYMENTPREFERENCE.IS_MILITARY_TARGET IS '병역대상여부';

/* MILITARYSERVICE 테이블 생성 */
CREATE TABLE MILITARYSERVICE (
    EMPLOYMENT_PREFERENCES_NO NUMBER NOT NULL,
    ENLISTMENT_DATE DATE NULL,
    ENTIRE_DATE DATE NULL,
    MILITARY_SELECTION VARCHAR2(10) NULL,
    CLASS_SELECTION VARCHAR2(10) NULL,
    ENTRIE_REASON VARCHAR2(20) NULL,
    EXEMPTION_REASON VARCHAR2(225) NULL,
    UNFINISHED_REASON VARCHAR2(225) NULL
);

COMMENT ON COLUMN MILITARYSERVICE.EMPLOYMENT_PREFERENCES_NO IS '입대번호';
COMMENT ON COLUMN MILITARYSERVICE.ENLISTMENT_DATE IS '입대일';
COMMENT ON COLUMN MILITARYSERVICE.ENTIRE_DATE IS '전역일';
COMMENT ON COLUMN MILITARYSERVICE.MILITARY_SELECTION IS '군별선택';
COMMENT ON COLUMN MILITARYSERVICE.CLASS_SELECTION IS '계급선택';
COMMENT ON COLUMN MILITARYSERVICE.ENTRIE_REASON IS '전역사유';
COMMENT ON COLUMN MILITARYSERVICE.EXEMPTION_REASON IS '면제사유';
COMMENT ON COLUMN MILITARYSERVICE.UNFINISHED_REASON IS '미필사유';

/* SELF_INTRODUCTION 테이블 생성 */
CREATE TABLE SELF_INTRODUCTION (
    SELF_INTRODUCTION_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    USER_ID VARCHAR2(20) NOT NULL,
    TITLE VARCHAR2(100) NOT NULL,
    CONTENT VARCHAR2(500) NOT NULL,
    CREATED_DATE DATE NOT NULL,
    MODIFIED_DATE DATE NULL,
    DELETED CHAR(1) NULL CHECK (DELETED IN ('Y', 'N'))
);

COMMENT ON COLUMN SELF_INTRODUCTION.SELF_INTRODUCTION_NO IS '자기소개서 번호';
COMMENT ON COLUMN SELF_INTRODUCTION.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN SELF_INTRODUCTION.USER_ID IS '작성자번호';
COMMENT ON COLUMN SELF_INTRODUCTION.TITLE IS '자기소개서 제목';
COMMENT ON COLUMN SELF_INTRODUCTION.CONTENT IS '자기소개서 내용';
COMMENT ON COLUMN SELF_INTRODUCTION.CREATED_DATE IS '작성일자';
COMMENT ON COLUMN SELF_INTRODUCTION.MODIFIED_DATE IS '수정일자';
COMMENT ON COLUMN SELF_INTRODUCTION.DELETED IS '삭제여부';

/* PORTFOLIO 테이블 생성 */
CREATE TABLE PORTFOLIO (
    PORTFOLIO_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    TITLE VARCHAR2(100) NOT NULL,
    TYPE VARCHAR2(10) NOT NULL CHECK (TYPE IN ('파일', 'URL')),
    FILE_URL VARCHAR2(200) NULL
);

COMMENT ON COLUMN PORTFOLIO.PORTFOLIO_NO IS '포트폴리오 번호';
COMMENT ON COLUMN PORTFOLIO.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN PORTFOLIO.TITLE IS '포트폴리오 제목';
COMMENT ON COLUMN PORTFOLIO.TYPE IS '포트폴리오 유형';
COMMENT ON COLUMN PORTFOLIO.FILE_URL IS '파일경로 또는 URL주소';

/* SKILL 테이블 생성 */
CREATE TABLE SKILL (
    SKILL_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    SKILL VARCHAR2(1000) NULL
);

COMMENT ON COLUMN SKILL.SKILL_NO IS '스킬번호';
COMMENT ON COLUMN SKILL.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN SKILL.SKILL IS '스킬';

/* CAREER 테이블 생성 */
CREATE TABLE CAREER (
    WORK_EX_NO NUMBER NOT NULL,
    RESUME_NO NUMBER NOT NULL,
    COMPANY_TITLE VARCHAR2(50) NOT NULL,
    WORK VARCHAR2(20) NOT NULL,
    DEPARTMENT VARCHAR2(20) NOT NULL,
    START_DATE DATE NOT NULL,
    END_DATE DATE NULL,
    STATUS CHAR(1) NOT NULL CHECK (STATUS IN ('Y', 'N')),
    JOB_CONTENT VARCHAR2(100) NOT NULL,
    POSITION VARCHAR2(20) NOT NULL
);

COMMENT ON COLUMN CAREER.WORK_EX_NO IS '경력번호';
COMMENT ON COLUMN CAREER.RESUME_NO IS '이력서번호';
COMMENT ON COLUMN CAREER.COMPANY_TITLE IS '회사명';
COMMENT ON COLUMN CAREER.WORK IS '직무';
COMMENT ON COLUMN CAREER.DEPARTMENT IS '근무부서';
COMMENT ON COLUMN CAREER.START_DATE IS '입사년도';
COMMENT ON COLUMN CAREER.END_DATE IS '퇴사년도';
COMMENT ON COLUMN CAREER.STATUS IS '근무현황';
COMMENT ON COLUMN CAREER.JOB_CONTENT IS '주요 업무 내용';
COMMENT ON COLUMN CAREER.POSITION IS '직급/직책';

/* 제약 조건 추가 */
ALTER TABLE MEMBER
    ADD CONSTRAINT PK_MEMBER PRIMARY KEY (USER_NO);
ALTER TABLE BUSINESS
    ADD CONSTRAINT PK_BUSINESS PRIMARY KEY (BUSINESS_NO);
ALTER TABLE MEMBER
    ADD CONSTRAINT FK_MEMBER_BUSINESS FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);
ALTER TABLE PERSON
    ADD CONSTRAINT PK_PERSON PRIMARY KEY (PERSON_NO);
ALTER TABLE MEMBER
    ADD CONSTRAINT FK_MEMBER_PERSON FOREIGN KEY (PERSON_NO) REFERENCES PERSON (PERSON_NO);

ALTER TABLE POSTING
    ADD CONSTRAINT PK_POSTING PRIMARY KEY (POSTING_NO);
ALTER TABLE POSTING
    ADD CONSTRAINT FK_POSTING_BUSINESS FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);
ALTER TABLE POSTING
    ADD CONSTRAINT FK_POSTING_PERSON FOREIGN KEY (PERSON_NO) REFERENCES PERSON (PERSON_NO);
ALTER TABLE POSTING
    ADD CONSTRAINT FK_POSTING_USER FOREIGN KEY (USER_NO) REFERENCES MEMBER (USER_NO);

ALTER TABLE COMMUNITY_POST_JOB_CATEGORY
    ADD CONSTRAINT FK_COMMUNITY_JOB_CATEGORY FOREIGN KEY (POSTING_NO) REFERENCES POSTING (POSTING_NO);

ALTER TABLE COMMUNITY_POST_HASHTAG
    ADD CONSTRAINT FK_COMMUNITY_HASHTAG FOREIGN KEY (POSTING_NO) REFERENCES POSTING (POSTING_NO);



ALTER TABLE BUSINESS_BENEFIT
    ADD CONSTRAINT FK_BUSINESS_BENEFIT FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);

ALTER TABLE WORK_ENVIRONMENT_IMAGE
    ADD CONSTRAINT PK_WORK_ENVIRONMENT_IMAGE PRIMARY KEY (WORK_ENVIRONMENT_IMAGE_NO);
ALTER TABLE WORK_ENVIRONMENT_IMAGE
    ADD CONSTRAINT FK_WORK_ENVIRONMENT_IMAGE FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);
ALTER TABLE RESUME
    ADD CONSTRAINT PK_RESUME PRIMARY KEY (RESUME_NO, PERSON_NO);
ALTER TABLE BUSINESS_BOOKMARK
    ADD (PERSON_NO NUMBER);

ALTER TABLE BUSINESS_BOOKMARK
    ADD CONSTRAINT FK_BUSINESS_BOOKMARK_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE JOB_POSTING
    ADD CONSTRAINT PK_JOB_POSTING PRIMARY KEY (RECRUITMENT_NO);
ALTER TABLE JOB_POSTING
    ADD CONSTRAINT FK_JOB_POSTING_BUSINESS FOREIGN KEY (BUSINESS_NO) REFERENCES BUSINESS (BUSINESS_NO);

ALTER TABLE JOB_REQUIREMENTS
    ADD CONSTRAINT PK_JOB_REQUIREMENTS PRIMARY KEY (POSITION_NO);
ALTER TABLE JOB_REQUIREMENTS
    ADD CONSTRAINT FK_JOB_REQ_RECRUIT_NO FOREIGN KEY (RECRUITMENT_NO) REFERENCES JOB_POSTING (RECRUITMENT_NO);

ALTER TABLE APPLICANTS
    ADD CONSTRAINT PK_APPLICANTS PRIMARY KEY (APPLICANTS_NO);
ALTER TABLE APPLICANTS
    ADD CONSTRAINT FK_RECRUITMENT FOREIGN KEY (RECRUITMENT_NO) REFERENCES JOB_POSTING (RECRUITMENT_NO);

ALTER TABLE APPLICANTS
    ADD (PERSON_NO NUMBER);
ALTER TABLE APPLICANTS
    ADD CONSTRAINT FK_APPLICANTS_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE PERSON_BOOKMARK
    ADD CONSTRAINT FK_PERSON_BOOKMARK_PERSON FOREIGN KEY (PERSON_NO) REFERENCES PERSON (PERSON_NO);
ALTER TABLE PERSON_BOOKMARK
    ADD CONSTRAINT FK_PERSON_BOOKMARK_RECRUITMENT FOREIGN KEY (RECRUITMENT_NO) REFERENCES JOB_POSTING (RECRUITMENT_NO);

ALTER TABLE RESUME
    ADD CONSTRAINT FK_RESUME_PERSON FOREIGN KEY (PERSON_NO) REFERENCES PERSON (PERSON_NO);
ALTER TABLE ACDEMIC_ABILITY
    ADD (PERSON_NO NUMBER);
ALTER TABLE ACDEMIC_ABILITY
    ADD CONSTRAINT PK_ACDEMIC_ABILITY PRIMARY KEY (ACDEMIC_NO, RESUME_NO);
ALTER TABLE ACDEMIC_ABILITY
    ADD CONSTRAINT FK_ACDEMIC_ABILITY_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);
ALTER TABLE LICENSE
    ADD (PERSON_NO NUMBER);
ALTER TABLE LICENSE
    ADD CONSTRAINT PK_LICENSE PRIMARY KEY (LICENSE_NO, RESUME_NO);
ALTER TABLE LICENSE
    ADD CONSTRAINT FK_LICENSE_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);
ALTER TABLE LANGUAGE
    ADD (PERSON_NO NUMBER);
ALTER TABLE LANGUAGE
    ADD CONSTRAINT PK_LANGUAGE PRIMARY KEY (LANGUAGE_NO, RESUME_NO);
ALTER TABLE LANGUAGE
    ADD CONSTRAINT FK_LANGUAGE_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE AWARD
    ADD (PERSON_NO NUMBER);
ALTER TABLE AWARD
    ADD CONSTRAINT PK_AWARD PRIMARY KEY (AWARD_NO, RESUME_NO);
ALTER TABLE AWARD
    ADD CONSTRAINT FK_AWARD_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE EXPERIENCE
    ADD (PERSON_NO NUMBER);
ALTER TABLE EXPERIENCE
    ADD CONSTRAINT PK_EXPERIENCE PRIMARY KEY (EXPERIENCE_NO, RESUME_NO);
ALTER TABLE EXPERIENCE
    ADD CONSTRAINT FK_EXPERIENCE_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE EMPLOYMENT_PREFERENCES1
    ADD (PERSON_NO NUMBER);
ALTER TABLE EMPLOYMENT_PREFERENCES1
    ADD CONSTRAINT PK_EMPLOYMENT_PREFERENCES1 PRIMARY KEY (EMPLOYMENT_PREFERENCES_NO1, RESUME_NO);
ALTER TABLE EMPLOYMENT_PREFERENCES1
    ADD CONSTRAINT FK_EMP_PREF1_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE EMPLOYMENTPREFERENCE
    ADD (PERSON_NO NUMBER);
ALTER TABLE EMPLOYMENTPREFERENCE
    ADD CONSTRAINT PK_EMPLOYMENTPREFERENCE PRIMARY KEY (EMPLOYMENT_PREFERENCES_NO, RESUME_NO);
ALTER TABLE EMPLOYMENTPREFERENCE
    ADD CONSTRAINT FK_EMP_PREF_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE SELF_INTRODUCTION
    ADD (PERSON_NO NUMBER);
ALTER TABLE SELF_INTRODUCTION
    ADD CONSTRAINT PK_SELF_INTRODUCTION PRIMARY KEY (SELF_INTRODUCTION_NO, RESUME_NO);
ALTER TABLE SELF_INTRODUCTION
    ADD CONSTRAINT FK_SELF_INTRO_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE PORTFOLIO
    ADD (PERSON_NO NUMBER);
ALTER TABLE PORTFOLIO
    ADD CONSTRAINT PK_PORTFOLIO PRIMARY KEY (PORTFOLIO_NO, RESUME_NO);
ALTER TABLE PORTFOLIO
    ADD CONSTRAINT FK_PORTFOLIO_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE SKILL
    ADD (PERSON_NO NUMBER);
ALTER TABLE SKILL
    ADD CONSTRAINT PK_SKILL PRIMARY KEY (SKILL_NO, RESUME_NO);
ALTER TABLE SKILL
    ADD CONSTRAINT FK_SKILL_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

ALTER TABLE CAREER
    ADD (PERSON_NO NUMBER);
ALTER TABLE CAREER
    ADD CONSTRAINT PK_CAREER PRIMARY KEY (WORK_EX_NO, RESUME_NO);
ALTER TABLE CAREER
    ADD CONSTRAINT FK_CAREER_RESUME FOREIGN KEY (RESUME_NO, PERSON_NO) REFERENCES RESUME (RESUME_NO, PERSON_NO);

/* REPLY 테이블 제약 조건 추가 */
ALTER TABLE REPLY
    ADD CONSTRAINT FK_REPLY_POSTING FOREIGN KEY (POSTING_NO) REFERENCES POSTING (POSTING_NO);

ALTER TABLE REPLY
    ADD CONSTRAINT FK_REPLY_USER FOREIGN KEY (USER_NO) REFERENCES MEMBER (USER_NO);

/* 시퀀스 생성 */
CREATE SEQUENCE SEQ_UNO NOCACHE;
CREATE SEQUENCE SEQ_PNO NOCACHE;
CREATE SEQUENCE SEQ_BNO NOCACHE;
CREATE SEQUENCE SEQ_JNO NOCACHE;
CREATE SEQUENCE SEQ_JNO_R NOCACHE;
CREATE SEQUENCE RESUME_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE BASICINFO_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE QUALIFICATION_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE ACADEMIC_ABILITY_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE EXPERIENCE_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE EMPLOYMENT_PREFERENCES_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE SKILL_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE CAREER_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE POSTING_SEQ NOCACHE;
CREATE SEQUENCE REPLY_SEQ NOCACHE;