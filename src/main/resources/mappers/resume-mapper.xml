<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="resumeMapper">

    <!-- Resume 삽입 -->
    <insert id="insertResume" parameterType="com.cs.workdream.resume.model.vo.Resume">
        INSERT INTO RESUME (
            RESUME_NO,
            PERSON_NO,
            DELETED,
            USERPIC,
            TITLE,
            CREATE_DATE,
            MODIFIED_DATE
        ) VALUES (
            RESUME_SEQ.NEXTVAL,
            #{personNo},
            'N',
            #{user_pic},
            #{resumeTitle},
            SYSDATE,
            SYSDATE
        )
    </insert>

    <insert id="batchInsertBasicInfo" parameterType="list">
    INSERT INTO BASIC_INFO (
        BASIC_NO, RESUME_NO, PERSON_NO, USER_NAME, USER_GENDER,
        USER_BIRTH, USER_EMAIL, USER_PHONE, USER_ADDRESS,
        USER_ROAD_ADDRESS, USER_DETAIL_ADDRESS, USER_PIC
    )
    VALUES
    <foreach collection="list" item="info" separator=",">
        (
            BASICINFO_SEQ.NEXTVAL, #{info.resumeNo}, #{info.personNo},
            #{user_name}, #{user_gender},
            TO_DATE(#{user_birth}, 'YYYY-MM-DD'), #{user_email},
            #{user_phone}, #{user_address}, #{usernumberaddress},
            #{userroadaddress}, #{user_detailaddress}, #{.user_Pic}
        )
    </foreach>
</insert>




    <!-- 기타 필요한 매퍼 구문을 유지 또는 주석 처리 -->
    
</mapper>