<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="resumeMapper">

     <insert id="insertResume" parameterType="com.cs.workdream.resume.model.vo.Resume" useGeneratedKeys="true" keyProperty="resumeNo">
        INSERT INTO RESUME (RESUME_NO, PERSON_NO, RESUME_TITLE, CREATE_DATE, MODIFIED_DATE, DELETED)
        VALUES (RESUME_SEQ.NEXTVAL, #{personNo}, #{resumeTitle}, SYSDATE, SYSDATE, 'N')
    </insert>

    <!-- 기본 정보 삽입 -->
    <insert id="insertBasicInfo" parameterType="com.cs.workdream.resume.model.vo.BasicInfo">
        INSERT INTO BASIC_INFO (
            BASIC_NO,
            RESUME_NO,
            PERSON_NO,
            USER_NAME,
            USER_GENDER,
            USER_BIRTH,
            USER_EMAIL,
            USER_PHONE,
            USER_ADDRESS,
            USER_ROAD_ADDRESS,
            USER_DETAIL_ADDRESS,
            USER_PIC
        )
        VALUES (
            BASIC_INFO_SEQ.NEXTVAL,
            #{resumeNo},
            #{personNo},
            #{user_name},
            #{user_gender},
            TO_DATE(#{user_birth}, 'YYYY-MM-DD'),
            #{user_email},
            #{user_phone},
            #{user_address},
            #{userroadaddress},
            #{user_detailaddress},
            #{user_pic}
        )
    </insert>





    <!-- 기타 필요한 매퍼 구문을 유지 또는 주석 처리 -->
    
</mapper>