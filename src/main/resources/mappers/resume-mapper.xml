<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="resumeMapper">

    <!-- Resume 삽입 -->
    <insert id="insertResume" parameterType="com.cs.workdream.resume.model.vo.Resume" useGeneratedKeys="true" keyProperty="resume_no">
        INSERT INTO RESUME (
            RESUME_NO,
            PERSON_NO,
            TITLE,
            CREATE_DATE,
            MODIFIED_DATE,
            DELETED
        ) VALUES (
            RESUME_SEQ.NEXTVAL,
            #{person_no},
            #{resumetitle},
            SYSDATE,
            SYSDATE,
            'N'
        )
    </insert>

    <!-- 고용 선호사항 삽입 -->
    <insert id="insertEmploymentPreference" parameterType="com.cs.workdream.resume.model.vo.EmploymentPreferences">
        INSERT INTO EMPLOYMENT_PREFERENCES (
            EMPLOYMENT_PREFERENCES_NO,
            RESUME_NO,
            PERSON_NO,
            MARRIAGE_REASON,
            SERVICE_STATUS,
            ENLISTMENT_DATE,
            DISCHARGE_DATE,
            MILITARY_BRANCH,
            RANK,
            DISCHARGE_REASON,
            EXEMPTION_REASON,
            UNFINISHED_REASON
        ) VALUES (
            EMPLOYMENT_PREFERENCES_SEQ.NEXTVAL,
            #{resumeNo},
            #{personNo},
            #{marriageReason},
            #{serviceStatus},
            TO_DATE(#{enlistmentDate}, 'YYYY-MM-DD'),
            TO_DATE(#{dischargeDate}, 'YYYY-MM-DD'),
            #{militaryBranch},
            #{rank},
            #{dischargeReason},
            #{exemptionReason},
            #{unfinishedReason}
        )
    </insert>

    <!-- BasicInfo 삽입 -->
    <insert id="insertBasicInfo" parameterType="com.cs.workdream.resume.model.vo.BasicInfo">
        INSERT INTO BASIC_INFO (
            BASIC_NO,
            RESUME_NO,
            PERSON_NO,
            USER_NAME,
            USER_GENDER,
            USER_BIRTH,
            USER_EMAIL,
            USER_PHONE,
            USER_ADDRESS,
            USER_ROADADDRESS,
            USER_DETAILADDRESS,
            USER_PIC
        ) VALUES (
            BASIC_INFO_SEQ.NEXTVAL,
            #{resume_no},
            #{person_no},
            #{user_name},
            #{user_gender},
            TO_DATE(#{user_birth}, 'YYYY-MM-DD'),
            #{user_email},
            #{user_phone},
            #{user_address},
            #{user_roadaddress},
            #{user_detailaddress},
            #{user_pic}
        )
    </insert>

    <!-- AcademicAbility 삽입 -->
    <insert id="insertAcademicAbility" parameterType="com.cs.workdream.resume.model.vo.AcademicAbility">
        INSERT INTO ACADEMIC_ABILITY (
            ACADEMIC_NO,
            RESUME_NO,
            PERSON_NO,
            EDUCATION_LEVEL,
            ACADEMIC_NAME,
            MAJOR,
            DEGREE,
            GRADUATION_STATUS,
            ENTER_DATE,
            GRADUATION_DATE,
            LOCATION,
            EXAM_PASSED
        ) VALUES (
            ACADEMIC_ABILITY_SEQ.NEXTVAL,
            #{resume_no},
            #{person_no},
            #{education_level},
            #{academic_name},
            #{major},
            #{degree},
            #{graduation_status},
            TO_DATE(#{enter_date}, 'YYYY-MM-DD'),
            TO_DATE(#{graduation_date}, 'YYYY-MM-DD'),
            #{location},
            #{exam_passed}
        )
    </insert>

    <!-- Qualification 삽입 -->
    <insert id="insertQualification" parameterType="com.cs.workdream.resume.model.vo.Qualification">
        INSERT INTO QUALIFICATION (
            QUALIFICATION_NO,
            RESUME_NO,
            PERSON_NO,
            CATEGORY,
            NAME,
            ISSUING_AGENCY,
            PROFICIENCY_LEVEL,
            LANGUAGE_TYPE,
            PASS_STATUS,
            ISSUE_DATE
        ) VALUES (
            QUALIFICATION_SEQ.NEXTVAL,
            #{resume_no},
            #{person_no},
            #{category},
            #{name},
            #{issuingAgency},
            #{proficiencyLevel},
            #{languageType},
            #{passStatus},
            TO_DATE(#{issueDate}, 'YYYY-MM-DD')
        )
    </insert>

    <!-- Experience 삽입 -->
    <insert id="insertExperience" parameterType="com.cs.workdream.resume.model.vo.Experience">
        INSERT INTO EXPERIENCE (
            EXPERIENCE_NO,
            RESUME_NO,
            PERSON_NO,
            ACTIVITY_TYPE,
            ORGANIZATION_NAME,
            START_DATE,
            END_DATE,
            DESCRIPTION
        ) VALUES (
            EXPERIENCE_SEQ.NEXTVAL,
            #{resume_no},
            #{person_no},
            #{activity_type},
            #{organization_name},
            TO_DATE(#{start_date}, 'YYYY-MM-DD'),
            TO_DATE(#{end_date}, 'YYYY-MM-DD'),
            #{description}
        )
    </insert>

    <!-- Skill 삽입 -->
    <insert id="insertSkill" parameterType="com.cs.workdream.resume.model.vo.Skill">
        INSERT INTO SKILL (
            SKILL_NO,
            RESUME_NO,
            PERSON_NO,
            SKILL_NAME
        ) VALUES (
            SKILL_SEQ.NEXTVAL,
            #{resume_no},
            #{person_no},
            #{skill_name}
        )
    </insert>

    <!-- Career 삽입 -->
    <insert id="insertCareer" parameterType="com.cs.workdream.resume.model.vo.Career">
        INSERT INTO CAREER (
            CAREER_NO,
            RESUME_NO,
            PERSON_NO,
            COMPANY_TITLE,
            WORK,
            DEPARTMENT,
            START_DATE,
            END_DATE,
            STATUS,
            JOB_CONTENT,
            POSITION
        ) VALUES (
            CAREER_SEQ.NEXTVAL,
            #{resume_no},
            #{person_no},
            #{company_title},
            #{work},
            #{department},
            TO_DATE(#{start_date}, 'YYYY-MM-DD'),
            TO_DATE(#{end_date}, 'YYYY-MM-DD'),
            #{status},
            #{job_content},
            #{position}
        )
    </insert>

    <!-- 기타 필요한 매퍼 구문을 추가합니다. -->

</mapper>
